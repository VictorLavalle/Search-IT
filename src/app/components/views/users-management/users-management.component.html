<p>users-management works!</p>

<app-header></app-header>
<h1>Manejo de usuarios</h1>

<h2>Crear usuario</h2>

<form [formGroup]="createUserForm">
    <label for="">Correo Electronico</label>
<input type="email" formControlName = "username" >
<label for="">Contrase√±a</label>
<input type="password" formControlName = "password">
<div>
    <p>Permisos</p>
  <label for="">Administrador</label>
  <input type="checkbox" name="admin" id="" formControlName="checkboxAdmin">
  <label for="">Buscar Documentos</label>
  <input type="checkbox" name="query" id="" formControlName="checkboxQuery">
  <label for="">Subir documentos</label>
  <input type="checkbox" name="upload" id="" formControlName="checkboxUpload">
  <label for="">Gestionar Usuarios</label>
  <input type="checkbox" name="user_mgmt" id="" formControlName="checkboxUserMgmt">
</div>

<button (click)="createUser()">Crear usuario</button>

</form>

<h2>Lista de usuarios</h2>

<section class="vh-50">
    <div class="container h-100">
      <div class="row d-flex justify-content-center align-items-center h-20">
        <div class="col-lg-12 col-xl-11">
          <div class="card text-black" style="border-radius: 25px;">
            <div class="card-body p-md-5">
              <div class="row justify-content-center">

                <div class="scroll table-responsive-xxl" id="tableResults">
                  <table class="table table-striped table-hover">
                    <thead>
                      <tr>
                        <th scope="col">Correo electronico</th>
                        <th scope="col">Permisos</th>
                        <th scope="col">Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!--  -->
                      <tr *ngFor="let user of users">
                        <td>{{user.username}}</td>
                        <td>
                            <p *ngFor="let rol of user.roles">{{rol}}</p>
                        </td>
                        <td>
                          <button><a [routerLink]="['/edit', user.id]">Modificar usuario</a></button>
                          <button (click)="deleteUser($event)" title='{{user.id}}' >Eliminar Usuario </button>
                      </td>
                    </tbody>
                  </table>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
